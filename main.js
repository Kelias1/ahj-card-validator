(()=>{"use strict";const e=document.querySelector(".input-field"),t=document.querySelector(".btn"),s=document.querySelector(".success"),r=document.querySelector(".failure");function c(e){document.querySelector(e).classList.add("active")}function n(){const e=document.querySelectorAll(".card");Array.from(e).forEach((e=>{e.classList.remove("active")}))}t.addEventListener("click",(t=>{t.preventDefault(),!function(e){const t=e.pop(),s=[];for(let t=e.length-1;t>=0;t-=2)s.push(2*e[t]),e[t]=0;const r=[];for(let e=0;e<s.length;e++)if(s[e]>=10){const t=s[e].toString().split("").map(Number);r.push(...t)}else r.push(s[e]);for(let t=0;t<e.length;t++)0!==e[t]&&r.push(e[t]);return 10-r.reduce(((e,t)=>e+t))%10===t}(e.value.split("").map(Number))?(r.classList.add("show_answer"),e.value="",n()):(s.classList.add("show_answer"),e.value="",n())})),e.addEventListener("input",(t=>{t.preventDefault(),s.classList.remove("show_answer"),r.classList.remove("show_answer");const l=e.value.split("").map(Number);l.length>1?function(e){if(4===e[0])c(".visa");else if(5===e[0])c(".master-card");else if(6===e[0])c(".discover");else if(2===e[0])c(".mir");else{if(3!==e[0])return;5===e[1]?c(".jcb"):6===e[1]?c(".diners"):c(".american")}}(l):n()}))})();